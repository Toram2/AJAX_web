<!doctype html>
<html>
<head>
  <div id="front">
  </div>
  <title>ToramHTML</title>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="color.js"></script>
  <script src=https://cdn.jsdelivr.net/npm/promise-polyfill@8.1/dist/polyfill.min.js></script>
  <script src=https://cdn.jsdelivr.net/npm/whatwg-fetch@3.0/dist/fetch.umd.min.js></script>

  </script>
</head>

<body>
  <div id = "subject">
    <h1 class = "intro">Studying <a href="1.html" style="font-size:200%;" id="name">&lt;HTML!&gt;</a></h1>
    <h5 class = "intro">세상에 대한 비유이자 은유의 예술인 컴퓨터 공학 중 웹에 대해 배워보자.</h5>
  </div>

  <div id="grid">
    <div id = "menu" style="padding-left :5px;padding-top:10px;">
      <input type="button" value="nightmode" onclick="object.nightModeHandler(this);" style="margin-left:10px; margin-bottom:5px;"
      >

      <input type="text" value=" 검색어를 입력하세요." onkeydown="
      alert('아직 준비 중인 기능이에요~!\n조금만 기다려주세요^^ㄱ')
      " style="margin-left:10px;">

      <ul style="padding-left : 25px;">
        <div id="menuList">

        </div>
      </ul>
    </div>

    <div id = "content" style="padding-bottom: 1px;">
      <article>

      </article>

      <script>

      function fetchPage(name){
        fetch(name).then(function(response){
          response.text().then(function(text){
            document.querySelector('article').innerHTML = text;
          })
        });
      }

      fetch('menuList').then(function(response){
        response.text().then(function(text){
          var items = text.split(',');
          var i = 0;
          var tags='';

          while(i<items.length){
            var item=items[i].trim();
            var tag = '<li><a href="#!'+item+'" onclick="fetchPage(\''+item+'\')">'+item+'</a></li>';
            tags=tags+tag;
            i=i+1;
            console.log(item);
          }
          document.querySelector('#menuList').innerHTML = tags;
        })
        });


      window.addEventListener("resize", function() {
      if (window.matchMedia("(min-width: 700px)").matches) {
        if(location.hash){
          fetchPage(location.hash.substr(2));
        }
        else{
        fetch('blank').then(function(response){
          response.text().then(function(text){
            document.querySelector('article').innerHTML = text;
          })
        });}
      }
      else {
        fetch('contentAll').then(function(response){
          response.text().then(function(text){
            document.querySelector('article').innerHTML = text;
          })
        });

      }
      });

      </script>


          <h4 style="padding-left:20px;">
          나는 HTML 강좌를 정확히 2019년 12월 7일 토요일 오후 4시 19분에 끝냈다.<br>
          이 모든 영광을 위대한 도메인 퍼블릭에게 돌립니다.<br>
          <a href="#front">맨 위로 가기</a>
          </h4>

          <script>
          if(location.hash){
            fetchPage(location.hash.substr(2));
          }

          </script>

          </div>
          </div>

          </body>
          </html>
